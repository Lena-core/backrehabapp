// Контент для экранов онбординга

import { PainLevel } from '../types';

// ============ ЭКРАН ПРИВЕТСТВИЯ ============
export const WELCOME_CONTENT = {
  title: 'Добро пожаловать в BackRehab',
  subtitle: 'Персональная программа для здоровья вашей спины',
  buttonText: 'Начать',
};

// ============ МЕДИЦИНСКИЕ ПРОТИВОПОКАЗАНИЯ ============
export const MEDICAL_DISCLAIMER = {
  title: 'Важная информация',
  subtitle: 'Пожалуйста, ознакомьтесь с противопоказаниями',
  checkboxLabel: 'Я ознакомлен(а) и не имею противопоказаний',
  backButton: 'Назад',
  continueButton: 'Продолжить',
  
  contraindications: [
    {
      title: 'Острые состояния',
      items: [
        'Острая боль в спине (если вы не можете найти безболезненную позу)',
        'Онемение или покалывание в ногах/руках',
        'Потеря контроля над мочевым пузырем или кишечником',
        'Прогрессирующая слабость в ногах',
      ],
    },
    {
      title: 'Медицинские состояния',
      items: [
        'Недавние операции на позвоночнике (менее 6 месяцев)',
        'Нестабильность позвоночника',
        'Тяжелый остеопороз',
        'Онкологические заболевания позвоночника',
        'Инфекционные процессы в области спины',
      ],
    },
    {
      title: 'Другие противопоказания',
      items: [
        'Беременность (без консультации врача)',
        'Недавние травмы позвоночника',
        'Грыжи межпозвоночных дисков с выраженной симптоматикой',
      ],
    },
  ],
  
  disclaimer: 'При наличии любого из перечисленных состояний, обязательно проконсультируйтесь с врачом перед началом упражнений.',
};

// ============ ЭКРАН ВЫБОРА УРОВНЯ БОЛИ ============
export const PAIN_LEVEL_SCREEN = {
  title: 'Как ваша спина сегодня?',
  stepIndicator: 'Шаг 1/4',
  explanation: `Основа нашего подхода — полный отказ от упражнений через боль. 

Именно ваш сегодняшний уровень дискомфорта определит, какие упражнения и с какой интенсивностью мы будем выполнять. 

Это нужно, чтобы не повредить заживающие ткани и не замедлить ваше восстановление.`,
  continueButton: 'Продолжить',
  backButton: 'Назад',
};

// Описания уровней боли для карточек
export const PAIN_LEVEL_DESCRIPTIONS: Record<PainLevel, { label: string; description: string }> = {
  none: {
    label: 'Все хорошо',
    description: 'Нет дискомфорта, готов(а) к полноценной тренировке',
  },
  mild: {
    label: 'Немного болит',
    description: 'Легкий дискомфорт, не мешает движениям',
  },
  moderate: {
    label: 'Болит',
    description: 'Заметная боль при определенных движениях',
  },
  severe: {
    label: 'Сильно болит',
    description: 'Значительная боль, ограничивающая активность',
  },
  acute: {
    label: 'Острая боль',
    description: 'Резкая боль, требуется покой и консультация врача',
  },
};

// ============ ЭКРАН ПРЕВЬЮ УПРАЖНЕНИЙ ============
export const EXERCISE_PREVIEW_SCREEN = {
  title: 'Ваша программа',
  stepIndicator: 'Шаг 2/4',
  recommendedTab: 'Рекомендуемые',
  detailedTab: 'Настроить детально',
  
  acuteWarning: {
    title: 'Режим восстановления',
    message: 'При острой боли мы рекомендуем воздержаться от упражнений «Большой Тройки». Сосредоточьтесь на покое и легкой ходьбе, если это возможно.',
  },
  
  exercisesTitle: 'Упражнения',
  settingsTitle: 'Настройки',
  
  continueButton: 'Продолжить',
  backButton: 'Назад',
};

// Рекомендации по уровням боли для ExercisePreviewScreen
export const PAIN_LEVEL_RECOMMENDATIONS: Record<PainLevel, string> = {
  acute: `На этой стадии формальные упражнения противопоказаны. Задача номер один — успокоить нервную систему и не срывать «корочку» с заживающей травмы.

Рекомендации:
• Найдите безболезненные позы для отдыха
• Легкие короткие прогулки (если не вызывают боли)
• Диафрагмальное дыхание для расслабления
• Обязательно обратитесь к врачу`,

  severe: `Боль все еще значительна, ткани очень чувствительны. Начинаем очень осторожно «прощупывать» безболезненные движения.

Принцип: минимальная доза, высокая частота.

Важно оценивать самочувствие после каждого подхода.`,

  moderate: `Это этап построения фундамента выносливости. Боль присутствует, но уже не такая острая.

Критически важно следить за самочувствием на следующий день. Если боль усилилась, вернитесь к настройкам предыдущего уровня.`,

  mild: `Боль незначительна и появляется только при определенных движениях. Вы готовы к плавному увеличению нагрузки.

Это стадия активного восстановления с фокусом на технику выполнения.`,

  none: `Стадия поддержания здоровья и построения «пуленепробиваемой» спины. Упражнения становятся ежедневной гигиеной позвоночника.

Если чувствуете, что нужна дополнительная нагрузка, можно добавить по одному повторению к каждому подходу.`,
};

// ============ ЭКРАН НАСТРОЙКИ УВЕДОМЛЕНИЙ ============
export const NOTIFICATION_SETUP_SCREEN = {
  title: 'Напоминания',
  stepIndicator: 'Шаг 3/4',
  subtitle: 'Настройте удобное время для уведомлений',
  
  types: {
    exerciseReminders: {
      title: 'Напоминания об упражнениях',
      description: 'Ежедневное напоминание выполнить упражнения',
      defaultTime: { hour: 9, minute: 0 },
    },
    spineHygieneTips: {
      title: 'Советы по гигиене позвоночника',
      description: 'Полезные советы для здоровья спины в течение дня',
      defaultTime: { hour: 14, minute: 0 },
    },
    educationalMessages: {
      title: 'Образовательные материалы',
      description: 'Интересные факты о здоровье позвоночника',
      defaultTime: { hour: 20, minute: 0 },
    },
  },
  
  continueButton: 'Продолжить',
  backButton: 'Назад',
};

// ============ ЭКРАН ГОТОВНОСТИ ============
export const READY_SCREEN = {
  title: 'Все готово!',
  stepIndicator: 'Шаг 4/4',
  
  motivationalMessage: `Поздравляем! Вы сделали первый шаг к здоровой спине.

Ваша персональная программа готова и ждет вас.`,
  
  planSummaryTitle: 'Ваш план на сегодня:',
  
  startButton: 'Начать тренировку',
  
  reminder: 'Помните: регулярность важнее интенсивности. Лучше выполнить упражнения с правильной техникой, чем гнаться за количеством повторений.',
};

// ============ ВСПОМОГАТЕЛЬНЫЕ ФУНКЦИИ ============

// Получить текст для сводки плана
export const getPlanSummary = (
  painLevel: PainLevel,
  holdTime: number,
  repsSchema: number[],
  restTime: number,
  walkDuration: number,
  walkSessions: number
): string => {
  if (painLevel === 'acute') {
    return `• Режим восстановления
• Ходьба: ${walkDuration} мин (${walkSessions} ${walkSessions === 1 ? 'раз' : 'раза'})
• Дыхательные упражнения
• Покой и наблюдение`;
  }

  const totalSets = repsSchema.length;
  const setsDescription = repsSchema.join('-');

  return `• Модифицированное скручивание
• Боковая планка
• Птица-собака

Настройки:
${totalSets} подхода (${setsDescription}), удержание ${holdTime}с, отдых ${restTime}с

• Ходьба: ${walkDuration} мин (${walkSessions} ${walkSessions === 1 ? 'раз' : 'раза'})`;
};
